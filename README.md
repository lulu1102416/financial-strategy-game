<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>é‡‘èæˆ°ç•¥ç‹</title>
  <style>
    body { font-family: sans-serif; padding: 2em; max-width: 800px; margin: auto; }
    .hidden { display: none; }
    input { margin: 0.3em 0; width: 40px; }
    button { margin-top: 1em; }
    table, td, th { border: 1px solid #999; border-collapse: collapse; padding: 4px; }
    #cardBox { border: 1px solid #ccc; padding: 1em; margin-top: 1em; }
    #name, #id { width: 150px; font-size: 1.1em; }
  </style>
</head>
<body>

<h1>é‡‘èæˆ°ç•¥ç‹</h1>

<div id="startSection">
  <p>è«‹è¼¸å…¥å­¸ç”Ÿè³‡æ–™ï¼š</p>
  <input id="name" placeholder="å§“å" /><br />
  <input id="id" placeholder="å­¸è™Ÿ" /><br />
  <button onclick="startGame()">é–‹å§‹éŠæˆ²</button>
</div>

<div id="gameSection" class="hidden">
  <p>å­¸ç”Ÿï¼š<span id="studentInfo"></span></p>
  <p>ç›®å‰å›åˆï¼š<span id="roundCount">1</span> / 5</p>
  
  <div id="cardBox" class="hidden">
    <h3 id="cardTitle"></h3>
    <p id="cardDesc"></p>
    <p>è«‹è¼¸å…¥ S/B/X/C/R åŠ æ¬Šï¼ˆæ•´æ•¸ï¼Œç¸½åˆæœ€å¤šç‚º 10ï¼‰ï¼š</p>

<div>
  <label>S: 
    <select id="signS"><option value="+">+</option><option value="-">-</option></select>
    <input id="valS" type="number" min="0" max="10" step="1" />
  </label>
</div>
<div>
  <label>B: 
    <select id="signB"><option value="+">+</option><option value="-">-</option></select>
    <input id="valB" type="number" min="0" max="10" step="1" />
  </label>
</div>
<div>
  <label>X: 
    <select id="signX"><option value="+">+</option><option value="-">-</option></select>
    <input id="valX" type="number" min="0" max="10" step="1" />
  </label>
</div>
<div>
  <label>C: 
    <select id="signC"><option value="+">+</option><option value="-">-</option></select>
    <input id="valC" type="number" min="0" max="10" step="1" />
  </label>
</div>
<div>
  <label>R: 
    <select id="signR"><option value="+">+</option><option value="-">-</option></select>
    <input id="valR" type="number" min="0" max="10" step="1" />
  </label>
</div>


<br />
    <button onclick="confirmTurn()">ç¢ºå®š</button>
  </div>

 <p id="result"></p>
  <p>ç¸½åˆ†ï¼š<span id="totalScore">0</span></p>
  <h3>å›åˆç´€éŒ„ï¼š</h3>
  <ul id="logList"></ul>
  <button onclick="restartGame()">é‡æ–°é–‹å§‹</button>
<button onclick="location.reload()">è¿”å›é¦–é </button>
</div>
<script>
const cards = [
  {
    title: "è³“æ‹‰ç™»ç™¼å‹•ä¹ä¸€ä¸€å¾©ä»‡ææ€–æ”»æ“Š",
    description: "2001å¹´9æœˆ11æ—¥ï¼Œè³“æ‹‰ç™»æ­·ç¶“èˆ‡CIAåŠå¸ƒå¸Œå®¶æ—åœ¨é˜¿å¯Œæ±—èˆ‡æ³¢æ–¯ç£æˆ°çˆ­ç³¾è‘›çš„æ©æ€¨æƒ…ä»‡ï¼Œçµ‚æ–¼åœ¨ç¬¬äºŒæ¬¡æ”»æ“Šä¸–è²¿é›™å­æ˜Ÿå¤§æ¨“çš„è¡Œå‹•ä¸­å±•ç¾ææ€–ä¸»ç¾©çš„å¯¦åŠ›ã€‚",
    s: -5, b:  5, x:  5, c: -5, r: -5
  },
  {
    title: "ä»¥é˜¿æˆ°çˆ­çŸ³æ²¹ç¦é‹å¼•ç™¼èƒ½æºå±æ©Ÿ",
    description: "1973å¹´10æœˆ17æ—¥ï¼Œç¬¬å››æ³¢ä»¥è‰²åˆ—èˆ‡é˜¿æ‹‰ä¼¯ä¸–ç•Œçš„è»äº‹è¡çªè¿«ä½¿OPECå°æ”¯æŒä»¥è‰²åˆ—çš„åœ‹å®¶å¯¦æ–½çŸ³æ²¹ç¦é‹ï¼Œå°è‡´å·¥æ¥­åœ‹å®¶èƒ½æºä¾›éœ€å¤±åºã€‚",
    s: -5, b: -4, x: -3, c:  5, r: -5
  },
  {
    title: "å†·æˆ°é«˜å³°æœŸè˜‡è¯ç™¼å‹•é˜¿å¯Œæ±—æˆ°çˆ­",
    description: "1979å¹´12æœˆ24æ—¥ï¼Œä»¥é˜¿æˆ°çˆ­å‰›çµæŸï¼Œè˜‡è¯æ“”å¿ƒç¾åœ‹å› ä»¥é˜¿å’Œå¹³å”è­°æ§åˆ¶ä¸­æ±è€Œç™¼å‹•é˜¿å¯Œæ±—æˆ°çˆ­ï¼Œå»é™·å…¥é¡ä¼¼è¶Šæˆ°çš„æ³¥æ²¼ç„¡æ³•è‡ªæ‹”ã€‚",
    s: -3, b:  3, x: -3, c:  5, r: -4
  },
  {
    title: "æŸæ—åœç‰†å€’å¡Œå®£å‘Šå†·æˆ°æ™‚æœŸçµæŸ",
    description: "1989å¹´11æœˆ9æ—¥ï¼Œæ±æ­æ°‘ä¸»é–‹æ”¾æµªæ½®è¿«ä½¿è˜‡è¯å…±ç”¢é«”åˆ¶ç“¦è§£ï¼Œé•·é”åŠä¸–ç´€çš„ç¾è˜‡å°å³™å®£å‘ŠçµæŸï¼Œè³‡æœ¬ä¸»ç¾©å¤§ç²å…¨å‹ã€‚",
    s:  5, b: -4, x:  5, c:  4, r:  5
  },
  {
    title: "å°¼å…‹æ£®éœ‡æ’¼ç™±ç˜“å¸ƒé›·é “æ£®æ—é«”ç³»",
    description: "1973å¹´2æœˆ13æ—¥ï¼Œå°¼å…‹æ£®ä»¥å–®æ—¥10%ç¾å…ƒè²¶å€¼éœ‡æ’¼å…¨çƒï¼Œç™±ç˜“å¸ƒé›·é “æ£®æ—è²¨å¹£é«”ç³»ï¼Œå·¥æ¥­å¤§åœ‹ä¹‹é–“è‡ªç”±æµ®å‹•åŒ¯ç‡é«”åˆ¶å–è€Œä»£ä¹‹ã€‚",
    s:  3, b: -4, x:  5, c:  4, r: -3
  },
  {
    title: "è‹±æ®–æ°‘åœ°é¦™æ¸¯ä¹ä¸ƒå¤§é™å›æ­¸ä¸­åœ‹",
    description: "1997å¹´7æœˆ1æ—¥ï¼Œè‹±åœ‹æ®–æ°‘åœ°æ±æ–¹ä¹‹ç é¦™æ¸¯å›æ­¸ä¸­åœ‹ï¼Œæˆç‚ºä¸­åœ‹å´›èµ·çš„ç¶“æ¿Ÿé–€æˆ¶èˆ‡è³‡æœ¬ä¸»ç¾©èˆ‡å…±ç”¢ä¸»ç¾©èåˆçš„è©¦é‡‘çŸ³ã€‚",
    s: -3, b:  4, x: -5, c: -2, r: -4
  },
  {
    title: "ä¸­åœ‹ç¶“æ¿Ÿå´›èµ·åŠ å…¥ä¸–ç•Œè²¿æ˜“çµ„ç¹”",
    description: "2001å¹´12æœˆ11æ—¥ï¼Œä¸­åœ‹æ”¹é©é–‹æ”¾å¾Œæ­ä¸Šé«˜ç§‘æŠ€èˆ‡è£½é€ æ¥­æµªæ½®ï¼Œä»¥å…¶åœ¨å…¨çƒä¾›æ‡‰éˆèˆ‡æ¶ˆè²»å¸‚å ´çš„åœ°ä½åŠ å…¥WTOï¼Œèºå‡ä¸–ç•Œå·¥å» ã€‚",
    s:  5, b:  4, x:  5, c:  5, r:  5
  },
  {
    title: "ç¾ä¿„çµ‚ç©¶ç‚ºå–¬æ²»äºèƒ½æºåˆ©ç›Šç¿»è‡‰",
    description: "2008å¹´8æœˆ8æ—¥ï¼Œèƒ½æºåƒ¹æ ¼é£†æ¼²æå‡å–¬æ²»äºçš„æˆ°ç•¥åœ°ä½ï¼ŒåŠ ä¸Šå†·æˆ°èˆŠæ€¨ï¼Œç¾ä¿„å› å–¬æ²»äºè¡çªæ±ºè£‚ï¼Œé—œä¿‚ç ´è£‚ã€‚",
    s: -4, b:  2, x: -3, c:  5, r: -5
  },
  {
    title: "å·¥æ¥­äº”åœ‹ç°½ç½²å»£å ´å”è­°è²¶å€¼ç¾å…ƒ",
    description: "1985å¹´9æœˆ22æ—¥ï¼Œå·¥æ¥­äº”åœ‹ç°½ç½²å»£å ´å”è­°ï¼Œè®“ç¾å…ƒå°æ—¥å…ƒèˆ‡é¦¬å…‹è²¶å€¼ï¼Œä»¥é¿å…è²¿æ˜“ä¿è­·ä¸»ç¾©ä¸¦å¹³è¡¡åœ‹éš›æ”¶æ”¯ã€‚",
    s:  4, b: -3, x:  5, c:  5, r:  2
  },
  {
    title: "ç¾å¸ƒå¸Œç™¼å‹•ä¼Šæ‹‰å…‹åæè§£æ”¾æˆ°çˆ­",
    description: "2003å¹´3æœˆ20æ—¥ï¼Œç¾åœ‹å¸ƒå¸Œæ”¿åºœä»¥åæç‚ºç”±ç™¼å‹•ä¼Šæ‹‰å…‹è§£æ”¾æˆ°çˆ­ï¼Œèª“è¨€å¾¹åº•æƒè•©ææ€–ç¶²çµ¡ä¸¦æ¢å¾©ä¸­æ±ç§©åºèˆ‡ç©©å®šã€‚",
    s:  4, b: -2, x: -3, c:  5, r:  3
  },
  {
    title: "å°¼å…‹æ£®çµ‚å› æ°´é–€æ¡ˆé†œèé»¯ç„¶ä¸‹å°",
    description: "1974å¹´8æœˆ9æ—¥ï¼Œæ°´é–€æ¡ˆé†œèèª¿æŸ¥å£“åŠ›æ”€å‡ï¼Œæœ€çµ‚è¿«ä½¿å°¼å…‹æ£®å®£å¸ƒè¾­è·ä¸‹å°ï¼Œç•™ä¸‹æ”¿ç¶“äº‚å±€çµ¦å‰¯ç¸½çµ±ç¦ç‰¹æ¥æ‰‹ã€‚",
    s: -5, b:  3, x:  5, c: -4, r: -5
  },
  {
    title: "ä¸­åœ‹å¤®è¡Œæ±ºå®šäººæ°‘å¹£èˆ‡ç¾å…ƒè„«é‰¤",
    description: "2005å¹´7æœˆ22æ—¥ï¼Œä¸­åœ‹äººæ°‘éŠ€è¡Œåœ¨å…¨çƒè²¿æ˜“åŠè³‡æœ¬æµå‹•å£“åŠ›ä¸‹ï¼Œæ±ºå®šæ”¾æ£„ç›¯ä½ç¾å…ƒçš„åŒ¯ç‡åˆ¶åº¦ï¼Œäººæ°‘å¹£è„«é‰¤ç¾å…ƒã€‚",
    s:  3, b:  2, x:  5, c:  4, r:  3
  },
  {
    title: "é›·æ ¹æº–å‚™æ›¿æ›æ²ƒå…‹ä¼åœ–ç”šå›‚å¡µä¸Š",
    description: "1985å¹´10æœˆ22æ—¥ï¼Œç¶“éæ²ƒå…‹é«˜å£“åˆ©ç‡æ”¿ç­–ç©©å®šé€šè†¨å¾Œï¼Œé›·æ ¹æ”¿åºœä¸»å°æ›´æ›è¯æº–æœƒä¸»å¸­ï¼Œæ¬²åŠ é€Ÿé™æ¯ä¸¦æ“´å¤§è²¨å¹£ä¾›çµ¦ä»¥åˆºæ¿€æˆé•·ã€‚",
    s:  5, b:  3, x:  3, c:  4, r:  3
  },
  {
    title: "ç¾ç™¼å‹•æ³¢æ–¯ç£æˆ°çˆ­éå›ºçŸ³æ²¹åˆ©ç›Š",
    description: "1990å¹´8æœˆ2æ—¥ï¼Œå¸ƒå¸Œæ”¿åºœç™¼å‹•æ³¢æ–¯ç£æˆ°çˆ­ï¼Œè¯åˆæ²™çƒåœ°é˜¿æ‹‰ä¼¯æ”¶å¾©ç§‘å¨ç‰¹ï¼Œä¸¦å€Ÿæ­¤éå›ºç¾åœ‹çŸ³æ²¹æˆ°ç•¥åˆ©ç›Šã€‚",
    s: -3, b:  2, x: -3, c:  5, r: -3
  },
  {
    title: "ç¾åœ‹è–æµ·å€«ç«å±±å¤§çˆ†ç™¼å‰å…†åœ°éœ‡",
    description: "1980å¹´3æœˆ20æ—¥ï¼Œç¾åœ‹1970å¹´ä»£ä¸­æœŸåœ°è³ªå­¸å®¶ç ”ç©¶å ±å‘Šæ‰€æ“”å¿ƒçš„è–æµ·å€«æ´»ç«å±±çµ‚æ–¼å¼•ç™¼è¯ç››é “å·åœ°éœ‡ï¼Œå°å¤±æ§çš„é€šè†¨ç«ä¸ŠåŠ æ²¹ã€‚",
    s: -4, b:  3, x:  4, c:  5, r: -5
  },
  {
    title: "äºæ´²SARSé¢¨æš´æ’¼å‹•ä¸–è¡›é˜²ç–«ç¶²",
    description: "2003å¹´3æœˆ15æ—¥ï¼Œä¸­åœ‹ç¶“æ¿Ÿæ¥µé€Ÿç™¼å±•å¸¶ä¾†å…¬å…±è¡›ç”Ÿé¢¨éšªï¼ŒSARSç–«æƒ…è”“å»¶æ•´å€‹äºæ´²ã€å°ç£ã€é¦™æ¸¯ï¼Œé¦–ç•¶å…¶è¡ï¼ŒWHOç™¼å¸ƒå…¨çƒè­¦æˆ’ã€‚",
    s: -4, b:  4, x: -4, c: -4, r: -4
  },
  {
    title: "è¶…ç´šé¢¶é¢¨å¡å´”å¨œé‡å‰µç´å¥§çˆ¾è‰¯å¸‚",
    description: "2005å¹´8æœˆ29æ—¥ï¼Œç¬¬äº”è™Ÿé¢¶é¢¨å¡å´”å¨œç™¼å±•ç‚ºäº”ç´šè¶…ç´šé¢¶é¢¨ï¼Œæ©«æƒå¢¨è¥¿å“¥ç£æ²¿å²¸ä¸¦é‡å‰µç´å¥§çˆ¾è‰¯åŠçŸ³åŒ–ç”¢æ¥­ã€‚",
    s: -2, b: -2, x:  2, c:  5, r: -3
  },
  {
    title: "å®‰å¾·é­¯é¢¶é¢¨é‡å‰µç¾åœ‹å¼—ç¾…é‡Œé”å·",
    description: "1992å¹´8æœˆ24æ—¥ï¼Œå®‰å¾·é­¯é¢¶é¢¨æ‰“äº‚ç¾åœ‹çŸ³æ²¹ä¾›æ‡‰éˆä½ˆå±€ï¼Œä¹Ÿæˆç‚ºå…±å’Œé»¨åœ¨1992å¹´ç¸½çµ±å¤§é¸è½æ•—çš„ä¸€æ ¹ç¨»è‰ã€‚",
    s: -2, b:  3, x:  5, c:  4, r: -3
  },
  {
    title: "æ–°èˆˆå¸‚å ´å‚µä¿¡æš´é¢¨åœˆè½‰å‘ä¿„ç¾…æ–¯",
    description: "1998å¹´8æœˆ17æ—¥ï¼Œä¿„ç¾…æ–¯å¤®è¡Œåœ¨äºæ´²é‡‘èé¢¨æš´æ„ˆæ¼”æ„ˆçƒˆéç¨‹ä¸­è©¦åœ–ç¶­ç¹«ç›§å¸ƒç·Šç›¯ç¾å…ƒï¼ŒåŠ ä¸Šç¶“æ¿Ÿè¡°é€€å°è‡´çŸ³æ²¹éœ€æ±‚éŠ³æ¸›ï¼Œæœ€çµ‚ä»¥å‚µå‹™é•ç´„èˆ‡ç›§å¸ƒåŠ‡è²¶æ”¶å ´ã€‚",
    s: -3, b: -2, x: -5, c: -5, r: -4
  },
  {
    title: "é«˜ç››ç™¼å¸ƒé‡‘ç£šå››åœ‹æŠ•è³‡å¤¢æƒ³å ±å‘Š",
    description: "2003å¹´10æœˆ1æ—¥ï¼Œæ­·ç¶“ç¶²è·¯æ³¡æ²«åŒ–ã€ä¼æ¥­è²¡å ±é†œèåŠåææˆ°çˆ­ï¼Œå…¨çƒè³‡é‡‘æµå‡ºç¾åœ‹ï¼Œé«˜ç››ä¸€åº¦æ¨å‹•é‡‘ç£šå››åœ‹æˆç‚ºä¸–ç•Œç¶“æ¿Ÿæˆé•·æ–°å¼•æ“ã€‚",
    s:  4, b:  3, x:  5, c:  5, r:  5
  },
  {
    title: "æ—¥æœ¬å¤®è¡Œä¸‰åº¦åŠ æ¯çˆ†ç ´è²¡å·¥æ³¡æ²«",
    description: "1989å¹´12æœˆ25æ—¥ï¼Œæ—¥æœ¬ä¼æ¥­æ†‘è—‰é›»å­ç§‘æŠ€èˆ‡å¸‚å ´æ°£å‹¢ï¼Œé€éè²¡å‹™å·¥ç¨‹å–å¾—ä½åˆ©ç‡èè³‡ä¸¦å¤§èˆ‰æµ·å¤–ä½µè³¼åŠæˆ¿åœ°ç”¢æŠ•è³‡ï¼Œè¿«ä½¿å¤®è¡Œé€£çºŒåŠ æ¯æ§åˆ¶è²¨å¹£ä¾›çµ¦ã€‚",
    s: -5, b: -3, x: -4, c: -4, r: -5
  },
  {
    title: "ç¶²è·¯ç§‘æŠ€å¤šé ­å¸ä»¤æŸ¯æ©é³´é‡‘æ”¶å…µ",
    description: "2000å¹´3æœˆ28æ—¥ï¼Œå¤šå¹´ä¾†åŠ›æ§ç§‘æŠ€è‚¡ã€è™Ÿç¨±å¤šé ­ç¸½å¸ä»¤çš„é«˜ç››é¦–å¸­ç­–ç•¥å¸«è‰¾æ¯”Â·ç§‘æ©çªç„¶è½‰å‘ç†Šå¸‚ï¼Œå®£ç¨±ç§‘æŠ€ç‰›å¸‚å·²ç–²æ…‹ç›¡é¡¯ã€‚",
    s: -5, b:  4, x:  3, c: -3, r: -4
  },
  {
    title: "ç´¢ç¾…æ–¯é»‘è‰²æ˜ŸæœŸä¸‰ç‹™æ“Šå¼±å‹¢è‹±éŠ",
    description: "1992å¹´9æœˆ16æ—¥ï¼Œå¾·åœ‹å¤®è¡Œé«˜åˆ©ç‡æ”¿ç­–ä½¿è‹±éŠæ‰¿å£“ï¼Œç´¢ç¾…æ–¯æ–¼é»‘è‰²æ˜ŸæœŸä¸‰ç‹™æ“Šè‹±éŠå¤§ç²å…¨å‹ï¼Œæ­ç¤ºåŒ¯å¸‚å·¨è®Šé¢¨éšªã€‚",
    s:  4, b:  2, x: -3, c:  2, r:  3
  },
  {
    title: "ç¶²éš›ç¶²é æœå°‹å…¬å¸é›…è™ç²‰æœ«ä¸Šå¸‚",
    description: "1996å¹´4æœˆ12æ—¥ï¼ŒWWWæ™‚ä»£ä¾†è‡¨ï¼Œè³‡è¨Šè‡ªç”±ç†±æ½®èˆˆèµ·ï¼Œé›…è™ä¸Šå¸‚æ­£å¼æ­é–‹ç¶²éš›ç¶²è·¯æ³¡æ²«çš„åºå¹•ã€‚",
    s:  5, b: -4, x: -3, c: -3, r: -3
  },
  {
    title: "èƒ½æºæ³¡æ²«ä¹‹å¤§é™¸ä¼Šåˆ©è«¾éŠ€è¡Œå±æ©Ÿ",
    description: "1984å¹´5æœˆ10æ—¥ï¼Œå¤§é™¸ä¼Šåˆ©è«¾éŠ€è¡Œå› çŸ³æ²¹èˆ‡å¤©ç„¶æ°£é–‹ç™¼è²¸æ¬¾é•ç´„å¼•ç™¼æ“ å…Œï¼Œèƒ½æºæ³¡æ²«æ“´å¼µå½¢æˆé‡‘èç³»çµ±æ€§é¢¨éšªã€‚",
    s: -3, b:  5, x: -4, c: -5, r: -3
  },
  {
    title: "é¿éšªåŸºé‡‘å¤©ç‹æ®è½ä¹‹é‡‘èå•Ÿç¤ºéŒ„",
    description: "1998å¹´9æœˆ23æ—¥ï¼Œä¿„ç¾…æ–¯å‚µå‹™é•ç´„å¼•ç™¼å…¨çƒè¡ç”Ÿæ€§é‡‘èå¸‚å ´é€£é–åæ‡‰ï¼Œä½¿é«˜æ§“æ¡¿å¥—åˆ©åŸºé‡‘LTCMæ·±é™·æµå‹•æ€§å±æ©Ÿä¸¦æœ€çµ‚ç ´ç”¢ã€‚",
    s: -5, b:  5, x: -5, c: -3, r: -4
  },
  {
    title: "å®‰éš†ç ´ç”¢æ¡ˆä¹‹è¡ç”Ÿæ€§é‡‘èå•Ÿç¤ºéŒ„",
    description: "2001å¹´12æœˆ2æ—¥ï¼Œå®‰éš†åˆ©ç”¨è²¡å‹™å·¥ç¨‹èˆ‡èƒ½æºäº¤æ˜“å»ºç«‹é‡‘èå¸åœ‹ï¼Œå»å› éåº¦æ§“æ¡¿æ“ä½œè‡ªæ˜å¢³å¢“ï¼Œæˆç‚ºæ³¡æ²«ç ´æ»…çš„å…¸å‹æ¡ˆä¾‹ã€‚",
    s: -5, b:  3, x:  3, c: -5, r: -3
  },
  {
    title: "ä¿¡è²¸å®Œç¾é¢¨æš´å¤·å¹³é›·æ›¼å‚µåˆ¸å¸åœ‹",
    description: "2008å¹´9æœˆ15æ—¥ï¼Œç¾åœ‹è²¡é•·æ³¢çˆ¾æ£®ä»‹å…¥é›·æ›¼å±æ©Ÿå»æœ€çµ‚é¸æ“‡æ”¾æ£„ç´“å›°ï¼Œé‡€æˆç„¡æ³•æ‰¿å—ä¹‹é»‘å¤©éµäº‹ä»¶ï¼Œæ‘§æ¯€é‡‘èé«”ç³»ä¿¡å¿ƒã€‚",
    s: -5, b: -3, x: -4, c: -5, r: -5
  },
  {
    title: "é«˜ç››åŠ›æ‹±ç¬¬äºŒæ³¢çŸ³æ²¹è¶…ç´šç˜‹æ¼²æœŸ",
    description: "2008å¹´3æœˆ7æ—¥ï¼Œé«˜ç››åˆ†ææŒ‡å‡ºçŸ³æ²¹åƒ¹æ ¼å¯èƒ½çªç ´100ç¾å…ƒä¸¦é€²ä¸€æ­¥è¡å‘200ç¾å…ƒï¼Œç…½å‹•å¸‚å ´å°èƒ½æºè¶…ç´šé£†æ¼²çš„é æœŸã€‚",
    s: -4, b: -5, x:  3, c:  5, r: -5
  },
  {
    title: "ç¶²éš›ç¶²è·¯é¾é ­æ€ç§‘å¸‚å€¼è¶…è¶Šå¾®è»Ÿ",
    description: "2000å¹´3æœˆ24æ—¥ï¼Œç¶²è·¯ç§‘æŠ€é¾é ­æ€ç§‘å¸‚å€¼ä¸€èˆ‰è¶…è¶Šå¾®è»Ÿï¼Œè±¡å¾µå¸‚å ´å°ç¶²è·¯ç¶“æ¿Ÿæˆé•·å‹•èƒ½çš„é«˜åº¦æ¨‚è§€ã€‚",
    s:  5, b: -5, x: -3, c:  2, r:  2
  },
  {
    title: "è²çˆ¾æ–¯ç™»æ¬¡è²¸é¢¨æš´è²¡å‹™å·¥ç¨‹å¤¢é­˜",
    description: "2008å¹´3æœˆ16æ—¥ï¼Œè²çˆ¾æ–¯ç™»é‹ç”¨é«˜æ§“æ¡¿åŠè¤‡é›œé‡‘èçµæ§‹æŠ¼æ³¨æ¬¡è²¸å¸‚å ´ï¼Œæœ€çµ‚å› å¸‚å ´å´©æ½°è¢«è¿«å‡ºå”®ä¸¦ç ´ç”¢æ•‘åŠ©ã€‚",
    s: -5, b:  3, x:  3, c: -4, r: -5
  },
  {
    title: "é‡‘ç®¡å–®ä½å¿½ç•¥æŠ•è³‡çµ„åˆä¿éšªé¢¨éšª",
    description: "1987å¹´7æœˆ23æ—¥ï¼Œéš¨è‘—æŠ•è³‡çµ„åˆä¿éšªèˆ‡ç¨‹å¼åŒ–äº¤æ˜“èˆˆèµ·ï¼Œç›£ç®¡æ©Ÿæ§‹å°ç³»çµ±æ€§é¢¨éšªçš„å¿½è¦–æš´éœ²å¸‚å ´è„†å¼±æ€§ã€‚",
    s: -4, b:  3, x: -3, c: -3, r: -3
  },
  {
    title: "ç´è²æ–¯å…‹æ§“æ¡¿èè³‡æ”¶è³¼é‡è »æˆ²ç¢¼",
    description: "1988å¹´11æœˆ30æ—¥ï¼Œç§å‹Ÿå·¨é ­ KKR åˆ©ç”¨æ§“æ¡¿èè³‡æ”¶è³¼ç´è²æ–¯å…‹ï¼Œé–‹å‰µä¼æ¥­ä½µè³¼çš„é«˜æ§“æ¡¿æ™‚ä»£ã€‚",
    s:  5, b: -4, x: -2, c:  3, r:  4
  },
  {
    title: "æ¶ˆè²»è€…è¦–ç¾æˆ¿å¸‚å¦‚å´©è£‚ä¸­çš„æ‚¬å´–",
    description: "2007å¹´4æœˆ13æ—¥ï¼Œç¾å›½æˆ¿å¸‚å¯¹ç»æµå¦‚å³å°†å´©è£‚çš„æ‚¬å´–ï¼ŒåŠ ä¸Šå¸‚åœºç‚’ä½œåŸç‰©æ–™é€šè†¨å¯¹æˆ¿è´·çš„å‹åŠ›é‡åˆ›æ¶ˆè´¹è€…ä¿¡å¿ƒæŒ‡æ•°ï¼Œè®©ç»æµé™·å…¥æ— å¯æŒ½æ•‘çš„æ¶æ€§å¾ªç¯ã€‚",
    s: -4, b:  4, x:  3, c: -4, r: -5
  },
  {
    title: "å¡‘è† ææ–™æˆç‚ºä¸–ç•Œæ‡‰ç”¨åŸæ–™ä¹‹ç‹",
    description: "1976å¹´12æœˆ31æ—¥ï¼Œå¡‘è† ææ–™é€éå…¶åœ¨å·¥æ¥­èˆ‡æ°‘ç”Ÿæ¶ˆè²»çš„å¤šæ¨£åŒ–æ‡‰ç”¨æˆç‚ºæœ€æ™®éçš„åŸæ–™ï¼Œè€Œå¡‘åŒ–å·¥æ¥­å‰‡é©…å‹•ç¶“æ¿Ÿæˆé•·ã€ç§‘æŠ€å‰µæ–°èˆ‡çŸ³æ²¹é€šè†¨ã€‚",
    s:  4, b: -5, x: -3, c:  5, r:  3
  },
  {
    title: "è¯æº–æœƒé™æ¯è‡³åŠä¸–ç´€ä¹‹è‡¨ç•Œä½é»",
    description: "2003å¹´6æœˆ25æ—¥ï¼Œç‚ºåˆºæ¿€ç¶“æ¿Ÿæˆé•·èˆ‡æŒ½æ•‘æŠ•è³‡å¸‚å ´ä¿¡å¿ƒï¼Œè¯æº–æœƒé€²ä¸€æ­¥é™æ¯è‡³1958å¹´ä»¥ä¾†æœ€ä½çš„1%åˆ©ç‡æ°´æº–ï¼Œè¿«ä½¿è³‡æœ¬å¸‚å ´å› æ‡‰å¾®åˆ©æ™‚ä»£çš„åˆ°ä¾†ã€‚",
    s:  4, b:  3, x:  5, c:  4, r:  5
  },
  {
    title: "æ—¥æœ¬ç¬¬ä¸€ä¹‹ç¾åœ‹æ”¿ç¶“è¡æ“Šå•Ÿç¤ºéŒ„",
    description: "1979å¹´5æœˆ1æ—¥ï¼Œå“ˆä½›å¤§å­¸æ•™æˆå‚…é«˜ç¾©å‡ºç‰ˆã€Šæ—¥æœ¬ç¬¬ä¸€ã€‹ï¼Œå°1970å¹´ä»£ä¸­æœŸæ—¥æœ¬å¾ç§‘æŠ€åˆ°é‡‘èå¦‚ä½•å¨è„…ç¾åœ‹éœ¸ä¸»åœ°ä½åšå‡ºæœ€ä½³å¯«ç…§ã€‚",
    s:  4, b: -5, x:  5, c:  3, r:  4
  },
  {
    title: "è‘›æ—æ–¯æ½˜æè¡›è¯æº–æœƒæŠ—é€šè†¨ç«‹å ´",
    description: "1987å¹´9æœˆ4æ—¥ï¼Œé›·æ ¹æåè‘›æ—æ–¯æ½˜ç‚ºè¯æº–æœƒä¸»å¸­ï¼Œæ–°å®˜ä¸Šä»»ä¸‰æŠŠç«ç¥­å‡ºä¸‰å¹´ä¾†é¦–åº¦è²¼ç¾ç‡åŠ æ¯ï¼Œå‡ºä¹å¸‚å ´é æ–™ã€‚",
    s: -5, b: -3, x: -5, c: -4, r: -4
  },
  {
    title: "å¡ç‰¹ç¸½çµ±æ¬½é»æ²ƒå…‹æŠ—åœæ»¯æ€§é€šè†¨",
    description: "1979å¹´7æœˆ25æ—¥ï¼Œåœ¨è¯æº–æœƒä¸»å¸­ç±³å‹’ç„¡åŠ›æ‡‰å°åœæ»¯æ€§é€šè†¨ä¹‹éš›ï¼Œå¡ç‰¹ç¸½çµ±æåè¯çˆ¾è¡—åŠå¸‚å ´çœ¾æœ›æ‰€æ­¸çš„æ²ƒå…‹å‡ºä»»è¯æº–æœƒä¸»å¸­ã€‚",
    s:  3, b: -5, x: -3, c: -4, r: -3
  },
  {
    title: "ä¸–ç•ŒéŠ€è¡Œç››è®šæ±äºç¶“æ¿Ÿå¥‡è¹Ÿå…¸ç¯„",
    description: "1993å¹´9æœˆ26æ—¥ï¼Œä¸–ç•ŒéŠ€è¡Œç ”ç©¶å ±å‘Šæ¨å´‡æ±äºç¶“æ¿Ÿç™¼å±•æ¨¡å¼ç‚ºæ–°å…¸ç¯„ï¼Œå®£å‘Šäºæ´²å››å°é¾å–ä»£æ—¥æœ¬ï¼Œæˆç‚ºå†·æˆ°çµæŸå¾Œæ¨å‹•å…¨çƒåŒ–ç¶“æ¿Ÿæˆé•·çš„æ–°å¼•æ“ã€‚",
    s:  5, b: -3, x:  5, c:  3, r:  3
  },
  {
    title: "é›·æ ¹ä¸Šä»»æ²ƒå…‹èª“è¨€æŒçºŒæ‰“æ“Šé€šè†¨",
    description: "1981å¹´2æœˆ6æ—¥ï¼Œç¾åœ‹é€šè†¨åœ¨1980å¹´3æœˆé”åˆ°é«˜é»å¾Œï¼Œåœæ»¯æ€§é€šè†¨è®“å¡ç‰¹æ”¿åºœä¸‹å°ï¼›åœ¨é›·æ ¹ç¸½çµ±ä¿¡ä»»ä¸‹ï¼Œæ–°ä»»è¯æº–æœƒä¸»å¸­æ²ƒå…‹èª“è¨€ä¸æƒœä»£åƒ¹æŒçºŒæ‰“æ“Šé€šè†¨ã€‚",
    s: -5, b:  5, x: -4, c: -5, r: -5
  },
  {
    title: "ç¾è¯æº–æœƒè²¨å¹£ä¾›çµ¦é€šè†¨å¤±æ§è¬åœ˜",
    description: "1973å¹´11æœˆ6æ—¥ï¼Œç¾è¯æº–æœƒä¸»å¸­æŸæ©ç‚ºæ¿€é€²è²¨å¹£ä¾›çµ¦æ”¿ç­–è¾¯è­·ï¼Œé§æ–¥å¤–ç•Œå°‡é€šè†¨å¤±æ§æ­¸å’æ–¼å…¶é…åˆå°¼å…‹æ£®æŒ½æ•‘å¤±æ¥­ç‡çš„ä½œæ³•ã€‚",
    s: -4, b: -5, x:  5, c:  5, r: -4
  },
  {
    title: "æ–°ç¶“æ¿Ÿç™¼å±•è¡ç”Ÿæ–°çš„ç¶“æ¿Ÿå­¸è¿·æ€",
    description: "2000å¹´2æœˆ25æ—¥ï¼ŒèˆŠé‡‘å±±è¯é‚¦æº–å‚™éŠ€è¡Œç™¼è¡¨ã€Œæ–°ç¶“æ¿Ÿåˆ°åº•èƒ½å¤ æˆé•·å¤šå¿«ï¼Ÿã€å°ˆæ–‡ï¼Œåæ˜ ç¶²éš›ç¶²è·¯æ³¡æ²«å¸¶å‹•çš„éç†æ€§ç¹æ¦®åŠæ–°ç¶“æ¿Ÿå­¸è¿·æ€ã€‚",
    s:  5, b: -5, x: -3, c:  3, r:  4
  },
  {
    title: "ç¦ç‰¹ç¸½çµ±çš„åœæ»¯æ€§é€šè†¨æ”¿ç¶“å¤¢é­˜",
    description: "1975å¹´2æœˆ5æ—¥ï¼Œå°¼å…‹æ£®ä¸‹å°å¾Œæ¥æ‰‹ç¶“æ¿Ÿçˆ›æ”¤çš„ç¦ç‰¹ç¸½çµ±åœ¨1975å¹´åˆå…¬å¸ƒ1976å¹´åº¦è²¡æ”¿é ç®—ï¼Œå·²é å‘Šå°åœæ»¯æ€§é€šè†¨çš„æ´ªæ°´çŒ›ç¸ç„¡åŠ›å›å¤©ã€‚",
    s: -5, b: -5, x:  3, c:  2, r: -5
  }
];

function getSignedValue(signId, valId) {
  const sign = document.getElementById(signId).value;
  const val = parseInt(document.getElementById(valId).value) || 0;
  return sign === '-' ? -val : val;
}

let student = {};
let round = 0;
let totalScore = 0;
let logs = [];
let currentCard = null;

function startGame() {
  const name = document.getElementById("name").value.trim();
  const id = document.getElementById("id").value.trim();
  if (!name || !id) return alert("è«‹è¼¸å…¥å§“åèˆ‡å­¸è™Ÿ");
  student = { name, id };
  round = 0;
  totalScore = 0;
  logs = [];
  document.getElementById("startSection").classList.add("hidden");
  document.getElementById("gameSection").classList.remove("hidden");
  document.getElementById("studentInfo").innerText = `${name}ï¼ˆ${id}ï¼‰`;
  document.getElementById("logList").innerHTML = '';
  document.getElementById("totalScore").innerText = '0';
  document.getElementById("result").innerText = '';
  drawCard();
}

function drawCard() {
  if (round >= 5) return;
  currentCard = cards[Math.floor(Math.random() * cards.length)];
  document.getElementById("cardTitle").innerText = currentCard.title;
  document.getElementById("cardDesc").innerText = currentCard.description;
  document.getElementById("cardBox").classList.remove("hidden");
}

function confirmTurn() {
  const s = getSignedValue('signS', 'valS');
  const b = getSignedValue('signB', 'valB');
  const x = getSignedValue('signX', 'valX');
  const c = getSignedValue('signC', 'valC');
  const r = getSignedValue('signR', 'valR');

  const totalWeightAbs = Math.abs(s) + Math.abs(b) + Math.abs(x) + Math.abs(c) + Math.abs(r);
  if (totalWeightAbs > 10) {
    alert("åŠ æ¬Šç¸½åˆä¸èƒ½è¶…é 10ï¼");
    return;
  }

 const score = currentCard.s * s + currentCard.b * b + currentCard.x * x + currentCard.c * c + currentCard.r * r;
  totalScore += score;
  round += 1;

  logs.push({ round, cardTitle: currentCard.title, input: { s, b, x, c, r }, base: currentCard, score });
  document.getElementById("roundCount").innerText = round;
  document.getElementById("totalScore").innerText = totalScore;
  document.getElementById("result").innerText = `ç¬¬ ${round} å›åˆå¾—åˆ†ï¼š${score}`;
  document.getElementById("logList").innerHTML += `<li>${currentCard.title}ï¼š${score} åˆ†<br />å€æ•¸ï¼šS(${currentCard.s} * ${s}), B(${currentCard.b} * ${b}), X(${currentCard.x} * ${x}), C(${currentCard.c} * ${c}), R(${currentCard.r} * ${r})</li>`;

if (round >= 5) {
  const normalized = Math.round(((totalScore + 250) / 500) * 100);
  document.getElementById("finalScore").innerText = `ğŸŒŸ æœ€çµ‚æ›ç®—åˆ†æ•¸ç‚º ${normalized} åˆ†ï¼ˆæ»¿åˆ† 100ï¼‰`;

['valS','valB','valX','valC','valR'].forEach(id => document.getElementById(id).value = '');

  if (round >= 5) {
    document.getElementById("result").innerText += 'ï¼ˆéŠæˆ²çµæŸï¼‰';
    saveToLocal();
    ['valS','valB','valX','valC','valR','signS','signB','signX','signC','signR'].forEach(id => {
      document.getElementById(id).disabled = true;
    });
    document.querySelector('button[onclick="confirmTurn()"]')?.setAttribute('disabled', true);
  } else {
    drawCard();
  }
}

function restartGame() {
  location.reload();
}

function saveToLocal() {
  const timestamp = new Date().toLocaleString();
  const record = {
    name: student.name,
    id: student.id,
    total: totalScore,
    logs: logs.map(l => `ç¬¬${l.round}å›åˆ: ${l.cardTitle}ï¼ˆ${l.score}åˆ†ï¼‰`).join(" / "),
    time: timestamp
  };
  fetch("https://script.google.com/macros/s/AKfycbxOYkovaJzgUHxSV-jhrQnQqB72sDKePEeZpKRrwj9stCmimYG4OlgkwxJfmhBn35Kd/exec", {
    method: "POST",
    mode: "no-cors",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(record)
  });
}
</script>

</body>
</html>
